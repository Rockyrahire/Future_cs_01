import os
import subprocess

def run_sqlmap(target_url):
    # Construct SQLMap command
    command = f"sqlmap -u {target_url} --batch --risk=3 --level=5 --threads=10"
    
    # Execute the command
    result = subprocess.run(command, shell=True, capture_output=True, text=True)
    
    # Return the result
    return result.stdout

if __name__ == "__main__":
    target = "http://example.com/vulnerable_page.php?id=1"  # Replace with your target URL
    print("Running SQLMap for SQL injection test...")
    result = run_sqlmap(target)
    print(result)
